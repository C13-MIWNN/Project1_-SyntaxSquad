<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Input</title>
    <style>
        .inputField {
            width: 400px;
            height: 80px; /* Four lines long */
        }
    </style>
</head>
<body>

<!-- Container element where the React component will be rendered -->
<div id="dynamicInput"></div>

<!-- Import React library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js"></script>

<!-- Your React component -->
<script th:inline="javascript">
    /* <![CDATA[ */
    function DynamicInput() {
        const [data, setData] = React.useState([{value: ""}])

        const handleClick = () => {
            setData([...data, {value: ""}])
        }
        const handleChange = (e, i) => {
            const {value} = e.target
            const onchangeVal = [...data]
            onchangeVal[i].value = value
            setData(onchangeVal)
        }
        const handleDelete = (i) => {
            const deleteVal = [...data]
            deleteVal.splice(i, 1)
            setData(deleteVal)
        }
        return (
            React.createElement('div', {className: 'App'},
                React.createElement('button', {onClick: handleClick}, 'Add'),
                data.map((val, i) =>
                    React.createElement('div', {key: i},
                        React.createElement('textarea', {className: 'inputField', value: val.value, onChange: (e) => handleChange(e, i)}),
                        React.createElement('button', {onClick: () => handleDelete(i)}, 'Delete')
                    )
                )
            )
        );
    }

    ReactDOM.render(React.createElement(DynamicInput), document.getElementById('dynamicInput'));
    /* ]]> */
</script>

</body>
</html>
